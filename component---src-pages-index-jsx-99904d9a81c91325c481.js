(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{197:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(208),o=a(202),s=a(296),c=a(281),l=a(201),d=a(5),u=a.n(d),m=(a(131),a(12)),p=a.n(m),g=a(1),f=a.n(g),h=a(10),b=a.n(h),v=a(60),y=a(293),x=r.a.forwardRef(function(e,t){var a=e.classes,n=e.className,i=e.raised,o=void 0!==i&&i,s=b()(e,["classes","className","raised"]);return r.a.createElement(y.a,f()({className:Object(v.a)(a.root,n),elevation:o?8:1,ref:t},s))}),E=Object(l.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(x),I=r.a.forwardRef(function(e,t){var a=e.disableSpacing,n=void 0!==a&&a,i=e.classes,o=e.className,s=b()(e,["disableSpacing","classes","className"]);return r.a.createElement("div",f()({className:Object(v.a)(i.root,o,!n&&i.spacing),ref:t},s))}),R=Object(l.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > * + *":{marginLeft:8}}},{name:"MuiCardActions"})(I),w=(a(203),["video","audio","picture","iframe","img"]),j=r.a.forwardRef(function(e,t){var a=e.classes,n=e.className,i=e.component,o=void 0===i?"div":i,s=e.image,c=e.src,l=e.style,d=b()(e,["classes","className","component","image","src","style"]),u=-1!==w.indexOf(o),m=!u&&s?f()({backgroundImage:'url("'.concat(s,'")')},l):l;return r.a.createElement(o,f()({className:Object(v.a)(a.root,n,u&&a.media),ref:t,style:m,src:u?s||c:void 0},d))}),N=Object(l.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%",objectFit:"cover"}},{name:"MuiCardMedia"})(j),O=a(283),S=a.n(O),k=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={imageSrc:""},a}return p()(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.classes,n=a.buttonContainer,i=a.container,c=a.imageContainer,l=a.rightIcon,d=a.uploadButton,u=a.uploadInput,m=t.id,p=t.addOriginImage,g=t.addSecretImage,f=this.state.imageSrc;return r.a.createElement(E,{className:i},r.a.createElement(N,{className:c,title:"Paella dish",image:f}),r.a.createElement(R,{className:n},r.a.createElement("input",{accept:"image/*",className:u,id:m,type:"file",onInput:function(t){var a=new FileReader;a.onloadend=function(){console.log(a.result.split(",").pop()),e.setState({imageSrc:a.result}),m===o.c&&p(a.result.split(",").pop()),m===o.e&&g(a.result.split(",").pop())},a.readAsDataURL(t.target.files[0])}}),r.a.createElement("label",{htmlFor:m},r.a.createElement(s.a,{variant:"contained",color:"default",component:"span",className:d},"Upload",r.a.createElement(S.a,{className:l})))))},t}(r.a.Component);k.propTypes={classes:u.a.shape({buttonContainer:u.a.shape({}).isRequired,container:u.a.shape({}).isRequired,imageContainer:u.a.shape({}).isRequired,rightIcon:u.a.shape({}).isRequired,uploadButton:u.a.shape({}).isRequired,uploadInput:u.a.shape({}).isRequired}).isRequired,id:u.a.string.isRequired,addOriginImage:u.a.func.isRequired,addSecretImage:u.a.func.isRequired},k.defaultProps={};var C=Object(l.a)({root:{},container:{margin:"28px 88px"},imageContainer:{display:"flex",alignSelf:"center",height:360,width:360,outline:"5px dotted gray",outlineOffset:-40},buttonContainer:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:16,marginBottom:16},uploadButton:{},uploadInput:{display:"none"},rightIcon:{marginLeft:8}})(k),q=Object(i.b)(function(e,t){return{}},function(e,t){return{addOriginImage:function(t){e(o.g(t))},addSecretImage:function(t){e(o.h(t))}}})(C),M=function(e){var t=e.classes,a=t.container,n=t.subContainer,i=t.mergedImage,l=e.embed,d=e.embeddedImage;return r.a.createElement(c.a,{maxWidth:"xl",className:a},r.a.createElement(c.a,{maxWidth:"md",className:n},r.a.createElement(q,{id:o.c}),r.a.createElement(q,{id:o.e})),r.a.createElement(c.a,{maxWidth:"md",className:n},r.a.createElement(s.a,{variant:"contained",color:"default",component:"span",onClick:l},"Upload")),d&&r.a.createElement(c.a,{maxWidth:"md",className:n},r.a.createElement("img",{className:i,src:"data:image/png;base64, "+d,alt:""})))};M.propTypes={classes:u.a.shape({container:u.a.shape({}).isRequired,subContainer:u.a.shape({}).isRequired,mergedImage:u.a.shape({}).isRequired}).isRequired,embed:u.a.func.isRequired,embeddedImage:u.a.string.isRequired},M.defaultProps={};var W=Object(l.a)({root:{marginTop:56},container:{display:"flex",flexWrap:"wrap",flexDirection:"column",justifyContent:"center",maxWidth:1440,marginTop:128,marginBottom:48},subContainer:{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"center",maxWidth:1440,marginBottom:48},mergedImage:{width:360,height:360}})(M),T=Object(i.b)(function(e,t){return{embeddedImage:e.image.embeddedImage}},function(e,t){return{embed:function(){e(o.i())}}})(W),A=a(216),D=a(214);t.default=function(){return r.a.createElement(A.a,null,r.a.createElement(D.a,{title:"Home"}),r.a.createElement(T,null))}},202:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"e",function(){return s}),a.d(t,"d",function(){return c}),a.d(t,"f",function(){return l}),a.d(t,"a",function(){return d}),a.d(t,"b",function(){return u}),a.d(t,"g",function(){return m}),a.d(t,"h",function(){return p}),a.d(t,"i",function(){return g}),a.d(t,"j",function(){return f});var n=a(220),r=a.n(n),i=a(212).config,o="IMAGE_ORIGIN",s="IMAGE_SECRET",c="IMAGE_ORIGIN_ADDED",l="IMAGE_SECRET_ADDED",d="IMAGE_EMBED_END",u="IMAGE_EXTRACT_END",m=function(e){return{type:c,imageEncoded:e}},p=function(e){return{type:l,imageEncoded:e}},g=function(){return function(e,t){var a=t().image,n=a.imageOrigin,o=a.imageSecret;r()({url:i.apiUrl,method:"post",data:{query:'\n        {\n          embed(\n            originImage: "'+n+'",\n            secretImage: "'+o+'"\n          )\n        }\n      '}}).then(function(t){var a=JSON.parse(t.data.data.embed).msg.embeddedImage;console.log(a),e(function(e){return{type:d,embeddedImage:e}}(a))})}},f=function(e){return function(t,a){r()({url:i.apiUrl,method:"post",data:{query:'\n        {\n          extract(\n            markedImage: "'+e+'",\n          )\n        }\n      '}}).then(function(e){var a=JSON.parse(e.data.data.extract).msg.extractedImage;t(function(e){return{type:u,extractedImage:e}}(a))})}}},204:function(e,t,a){var n;e.exports=(n=a(213))&&n.default||n},210:function(e){e.exports={data:{site:{siteMetadata:{title:"Gatsby Default Starter"}}}}},212:function(e){e.exports={name:"Invimarc",private:!0,description:"A demo for Invimarc",version:"0.1.0",author:"Chun Fan <email@chun.no>",config:{apiUrl:"http://47.110.231.152:3000/graphql"},dependencies:{"@material-ui/core":"^4.1.3","@material-ui/icons":"^4.2.1",axios:"^0.19.0",gatsby:"^2.10.4","gatsby-image":"^2.2.3","gatsby-plugin-manifest":"^2.2.0","gatsby-plugin-material-ui":"^2.1.1","gatsby-plugin-offline":"^2.2.0","gatsby-plugin-react-helmet":"^3.1.0","gatsby-plugin-sharp":"^2.2.1","gatsby-source-filesystem":"^2.1.0","gatsby-transformer-sharp":"^2.2.0","prop-types":"^15.7.2",react:"^16.8.6","react-dom":"^16.8.6","react-helmet":"^5.2.1","react-redux":"^7.1.0","redux-thunk":"^2.3.0"},devDependencies:{"eslint-config-airbnb":"^17.1.0","eslint-plugin-react-hooks":"^1.6.1",prettier:"^1.18.2"},keywords:["gatsby"],license:"MIT",scripts:{build:"gatsby build",develop:"gatsby develop",format:"prettier --write src/**/*.{js,jsx}",start:"npm run develop",serve:"gatsby serve",test:'echo "Write tests! -> https://gatsby.dev/unit-testing"'},repository:{type:"git",url:"https://github.com/gatsbyjs/gatsby-starter-default"},bugs:{url:"https://github.com/gatsbyjs/gatsby/issues"}}},213:function(e,t,a){"use strict";a.r(t);a(63);var n=a(0),r=a.n(n),i=a(5),o=a.n(i),s=a(94),c=function(e){var t=e.location,a=e.pageResources;return a?r.a.createElement(s.a,Object.assign({location:t,pageResources:a},a.json)):null};c.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}).isRequired},t.default=c},214:function(e,t,a){"use strict";var n=a(215),r=a(0),i=a.n(r),o=a(5),s=a.n(o),c=a(223),l=a.n(c);function d(e){var t=e.description,a=e.lang,r=e.meta,o=e.title,s=n.data.site,c=t||s.siteMetadata.description;return i.a.createElement(l.a,{htmlAttributes:{lang:a},title:o,titleTemplate:"%s | "+s.siteMetadata.title,meta:[{name:"description",content:c},{property:"og:title",content:o},{property:"og:description",content:c},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:s.siteMetadata.author},{name:"twitter:title",content:o},{name:"twitter:description",content:c}].concat(r)})}d.defaultProps={lang:"en",meta:[],description:""},d.propTypes={description:s.a.string,lang:s.a.string,meta:s.a.arrayOf(s.a.object),title:s.a.string.isRequired},t.a=d},215:function(e){e.exports={data:{site:{siteMetadata:{title:"Gatsby Default Starter",description:"Kick off your next, great Gatsby project with this default starter. This barebones starter ships with the main Gatsby configuration files you might need.",author:"@gatsbyjs"}}}}},216:function(e,t,a){"use strict";var n=a(210),r=(a(217),a(5)),i=a.n(r),o=a(0),s=a.n(o),c=a(208),l=a(206),d=a(218),u=a(219),m=a(202),p=new u.Record({imageOrigin:"",imageSecret:"",embeddedImage:"",extractedImage:""});var g=Object(l.c)({image:function(e,t){switch(void 0===e&&(e=new p),t.type){case m.d:return e.set("imageOrigin",t.imageEncoded);case m.f:return e.set("imageSecret",t.imageEncoded);case m.a:return console.log(t.embeddedImage),e.set("embeddedImage",t.embeddedImage);case m.b:return console.log(t.extractedImage),e.set("extractedImage",t.extractedImage)}return e}}),f=a(292),h=a(296),b=a(294),v=a(295),y=a(59);a(204),s.a.createContext({});i.a.object,i.a.string.isRequired,i.a.func,i.a.func;var x=a(201),E=function(e){var t=e.classes,a=t.appBar,n=t.menu,r=t.left,i=t.right,o=t.logo;return s.a.createElement(f.a,{className:a,position:"static"},s.a.createElement(b.a,{className:n},s.a.createElement("div",{className:r},s.a.createElement(v.a,{variant:"h6",color:"inherit",className:o},"INVIMARC")),s.a.createElement("div",{className:i},s.a.createElement(h.a,{color:"inherit",size:"large",onClick:function(){Object(y.navigate)("/")}},"首页"),s.a.createElement(h.a,{color:"inherit",size:"large",onClick:function(){window.open("http://invimarc.com","_blank")}},"关于我们"))))};E.propTypes={classes:i.a.shape({appBar:i.a.shape({}).isRequired,menu:i.a.shape({}).isRequired,left:i.a.shape({}).isRequired,right:i.a.shape({}).isRequired,logo:i.a.shape({}).isRequired}).isRequired},E.defaultProps={};var I=Object(x.a)({root:{margin:"0 auto",padding:"0px 48px 48px",paddingTop:24},appBar:{position:"fixed",top:0,backgroundColor:"#20232a"},menu:{display:"flex",justifyContent:"space-between",height:56},left:{marginRight:"auto"},right:{marginLeft:"auto"}})(E),R=function(e){var t=e.children,a=n.data,r=Object(l.d)(g,Object(l.a)(d.a));return s.a.createElement(c.a,{store:r},s.a.createElement(I,{siteTitle:a.site.siteMetadata.title}),s.a.createElement("div",{style:{margin:"0 auto"}},s.a.createElement("main",null,t),s.a.createElement("footer",null,"© ",(new Date).getFullYear(),", Built with"," ",s.a.createElement("a",{href:"https://www.gatsbyjs.org"},"Gatsby"))))};R.propTypes={children:i.a.node.isRequired};t.a=R},224:function(e,t,a){"use strict";var n=a(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=i.default.memo(i.default.forwardRef(function(t,a){return i.default.createElement(o.default,(0,r.default)({ref:a},t),e)}));0;return a.muiName=o.default.muiName,a};var r=n(a(1)),i=n(a(0)),o=n(a(225))},225:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(10),o=a.n(i),s=a(0),c=a.n(s),l=(a(5),a(60)),d=a(201),u=a(207),m=c.a.forwardRef(function(e,t){var a=e.children,n=e.classes,i=e.className,s=e.color,d=void 0===s?"inherit":s,m=e.component,p=void 0===m?"svg":m,g=e.fontSize,f=void 0===g?"default":g,h=e.htmlColor,b=e.titleAccess,v=e.viewBox,y=void 0===v?"0 0 24 24":v,x=o()(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return c.a.createElement(p,r()({className:Object(l.a)(n.root,i,"inherit"!==d&&n["color".concat(Object(u.a)(d))],"default"!==f&&n["fontSize".concat(Object(u.a)(f))]),focusable:"false",viewBox:y,color:h,"aria-hidden":b?"false":"true",role:b?"img":"presentation",ref:t},x),a,b?c.a.createElement("title",null,b):null)});m.muiName="SvgIcon";var p=Object(d.a)(function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},{name:"MuiSvgIcon"})(m);a.d(t,"default",function(){return p})},281:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(10),o=a.n(i),s=a(61),c=a.n(s),l=a(0),d=a.n(l),u=(a(5),a(60)),m=a(201),p=a(207),g=d.a.forwardRef(function(e,t){var a=e.classes,n=e.className,i=e.component,s=void 0===i?"div":i,c=e.fixed,l=void 0!==c&&c,m=e.maxWidth,g=void 0===m?"lg":m,f=o()(e,["classes","className","component","fixed","maxWidth"]);return d.a.createElement(s,r()({className:Object(u.a)(a.root,n,l&&a.fixed,!1!==g&&a["maxWidth".concat(Object(p.a)(String(g)))]),ref:t},f))});t.a=Object(m.a)(function(e){var t;return{root:(t={width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},c()(t,e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),c()(t,e.breakpoints.up("md"),{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}),t),fixed:Object.keys(e.breakpoints.values).reduce(function(t,a){var n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:n}),t},{}),maxWidthXs:c()({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:c()({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:c()({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:c()({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:c()({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}},{name:"MuiContainer"})(g)},283:function(e,t,a){"use strict";var n=a(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(224)).default)(r.default.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");t.default=i}}]);
//# sourceMappingURL=component---src-pages-index-jsx-99904d9a81c91325c481.js.map