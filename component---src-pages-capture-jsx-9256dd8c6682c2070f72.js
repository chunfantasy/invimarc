(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{198:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(216),o=a(214),s=a(208),c=a(202),l=(a(131),a(12)),d=a.n(l),u=a(281),p=a(10),m=a.n(p),g=a(1),f=a.n(g),h=a(5),b=a.n(h),v=a(60),y=a(201),x=a(297),E=a(207),w=r.a.forwardRef(function(e,t){var a=e.children,n=e.classes,i=e.className,o=e.color,s=void 0===o?"default":o,c=e.component,l=void 0===c?"button":c,d=e.disabled,u=void 0!==d&&d,p=e.disableFocusRipple,g=void 0!==p&&p,h=e.focusVisibleClassName,b=e.size,y=void 0===b?"large":b,w=e.variant,k=void 0===w?"round":w,I=m()(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return r.a.createElement(x.a,f()({className:Object(v.a)(n.root,i,"round"!==k&&n.extended,"primary"===s&&n.primary,"secondary"===s&&n.secondary,"large"!==y&&n["size".concat(Object(E.a)(y))],u&&n.disabled,"inherit"===s&&n.colorInherit),component:l,disabled:u,focusRipple:!g,focusVisibleClassName:Object(v.a)(n.focusVisible,h),ref:t},I),r.a.createElement("span",{className:n.label},a))}),k=Object(y.a)(function(e){return{root:f()({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&$focusVisible":{boxShadow:e.shadows[6]},"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}},{name:"MuiFab"})(w),I=a(282),R=a.n(I),j=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,a=t.container,n=t.captureInput,i=e.extract,o=e.extractedImage;return console.log(o),o?r.a.createElement(u.a,{className:a},r.a.createElement("img",{src:"data:image/png;base64, "+o,alt:""})):r.a.createElement(u.a,{className:a},r.a.createElement("input",{className:n,accept:"image/*",id:"capture",type:"file",capture:!0,onInput:function(e){var t=new FileReader;t.onloadend=function(){console.log(t.result),i(t.result.split(",").pop())},t.readAsDataURL(e.target.files[0])}}),r.a.createElement("label",{htmlFor:"capture"},r.a.createElement(k,{variant:"contained",color:"default",component:"span",size:"large","aria-label":"Add"},r.a.createElement(R.a,null))))},t}(r.a.PureComponent);j.propTypes={classes:b.a.shape({container:b.a.shape({}).isRequired,captureInput:b.a.shape({}).isRequired}).isRequired,extract:b.a.func.isRequired,extractedImage:b.a.string.isRequired},j.defaultProps={};var S=Object(y.a)({container:{marginTop:0,paddingTop:0,height:"100vh",width:"100vw",backgroundColor:"#eee",display:"flex",alignItems:"center",justifyContent:"center"},captureInput:{display:"none"}})(j),C=Object(s.b)(function(e,t){return{extractedImage:e.image.extractedImage}},function(e,t){return{extract:function(t){e(c.j(t))}}})(S);t.default=function(){return r.a.createElement(i.a,null,r.a.createElement(o.a,{title:"InviMarc"}),r.a.createElement(C,null))}},202:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"e",function(){return s}),a.d(t,"d",function(){return c}),a.d(t,"f",function(){return l}),a.d(t,"a",function(){return d}),a.d(t,"b",function(){return u}),a.d(t,"g",function(){return p}),a.d(t,"h",function(){return m}),a.d(t,"i",function(){return g}),a.d(t,"j",function(){return f});var n=a(220),r=a.n(n),i=a(212).config,o="IMAGE_ORIGIN",s="IMAGE_SECRET",c="IMAGE_ORIGIN_ADDED",l="IMAGE_SECRET_ADDED",d="IMAGE_EMBED_END",u="IMAGE_EXTRACT_END",p=function(e){return{type:c,imageEncoded:e}},m=function(e){return{type:l,imageEncoded:e}},g=function(){return function(e,t){var a=t().image,n=a.imageOrigin,o=a.imageSecret;r()({url:i.apiUrl,method:"post",data:{query:'\n        {\n          embed(\n            originImage: "'+n+'",\n            secretImage: "'+o+'"\n          )\n        }\n      '}}).then(function(t){var a=JSON.parse(t.data.data.embed).msg.embeddedImage;console.log(a),e(function(e){return{type:d,embeddedImage:e}}(a))})}},f=function(e){return function(t,a){r()({url:i.apiUrl,method:"post",data:{query:'\n        {\n          extract(\n            markedImage: "'+e+'",\n          )\n        }\n      '}}).then(function(e){var a=JSON.parse(e.data.data.extract).msg.extractedImage;t(function(e){return{type:u,extractedImage:e}}(a))})}}},204:function(e,t,a){var n;e.exports=(n=a(213))&&n.default||n},210:function(e){e.exports={data:{site:{siteMetadata:{title:"Gatsby Default Starter"}}}}},212:function(e){e.exports={name:"Invimarc",private:!0,description:"A demo for Invimarc",version:"0.1.0",author:"Chun Fan <email@chun.no>",config:{apiUrl:"http://47.110.231.152:3000/graphql"},dependencies:{"@material-ui/core":"^4.1.3","@material-ui/icons":"^4.2.1",axios:"^0.19.0",gatsby:"^2.10.4","gatsby-image":"^2.2.3","gatsby-plugin-manifest":"^2.2.0","gatsby-plugin-material-ui":"^2.1.1","gatsby-plugin-offline":"^2.2.0","gatsby-plugin-react-helmet":"^3.1.0","gatsby-plugin-sharp":"^2.2.1","gatsby-source-filesystem":"^2.1.0","gatsby-transformer-sharp":"^2.2.0","prop-types":"^15.7.2",react:"^16.8.6","react-dom":"^16.8.6","react-helmet":"^5.2.1","react-redux":"^7.1.0","redux-thunk":"^2.3.0"},devDependencies:{"eslint-config-airbnb":"^17.1.0","eslint-plugin-react-hooks":"^1.6.1",prettier:"^1.18.2"},keywords:["gatsby"],license:"MIT",scripts:{build:"gatsby build",develop:"gatsby develop",format:"prettier --write src/**/*.{js,jsx}",start:"npm run develop",serve:"gatsby serve",test:'echo "Write tests! -> https://gatsby.dev/unit-testing"'},repository:{type:"git",url:"https://github.com/gatsbyjs/gatsby-starter-default"},bugs:{url:"https://github.com/gatsbyjs/gatsby/issues"}}},213:function(e,t,a){"use strict";a.r(t);a(63);var n=a(0),r=a.n(n),i=a(5),o=a.n(i),s=a(94),c=function(e){var t=e.location,a=e.pageResources;return a?r.a.createElement(s.a,Object.assign({location:t,pageResources:a},a.json)):null};c.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}).isRequired},t.default=c},214:function(e,t,a){"use strict";var n=a(215),r=a(0),i=a.n(r),o=a(5),s=a.n(o),c=a(223),l=a.n(c);function d(e){var t=e.description,a=e.lang,r=e.meta,o=e.title,s=n.data.site,c=t||s.siteMetadata.description;return i.a.createElement(l.a,{htmlAttributes:{lang:a},title:o,titleTemplate:"%s | "+s.siteMetadata.title,meta:[{name:"description",content:c},{property:"og:title",content:o},{property:"og:description",content:c},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:s.siteMetadata.author},{name:"twitter:title",content:o},{name:"twitter:description",content:c}].concat(r)})}d.defaultProps={lang:"en",meta:[],description:""},d.propTypes={description:s.a.string,lang:s.a.string,meta:s.a.arrayOf(s.a.object),title:s.a.string.isRequired},t.a=d},215:function(e){e.exports={data:{site:{siteMetadata:{title:"Gatsby Default Starter",description:"Kick off your next, great Gatsby project with this default starter. This barebones starter ships with the main Gatsby configuration files you might need.",author:"@gatsbyjs"}}}}},216:function(e,t,a){"use strict";var n=a(210),r=(a(217),a(5)),i=a.n(r),o=a(0),s=a.n(o),c=a(208),l=a(206),d=a(218),u=a(219),p=a(202),m=new u.Record({imageOrigin:"",imageSecret:"",embeddedImage:"",extractedImage:""});var g=Object(l.c)({image:function(e,t){switch(void 0===e&&(e=new m),t.type){case p.d:return e.set("imageOrigin",t.imageEncoded);case p.f:return e.set("imageSecret",t.imageEncoded);case p.a:return console.log(t.embeddedImage),e.set("embeddedImage",t.embeddedImage);case p.b:return console.log(t.extractedImage),e.set("extractedImage",t.extractedImage)}return e}}),f=a(292),h=a(296),b=a(294),v=a(295),y=a(59);a(204),s.a.createContext({});i.a.object,i.a.string.isRequired,i.a.func,i.a.func;var x=a(201),E=function(e){var t=e.classes,a=t.appBar,n=t.menu,r=t.left,i=t.right,o=t.logo;return s.a.createElement(f.a,{className:a,position:"static"},s.a.createElement(b.a,{className:n},s.a.createElement("div",{className:r},s.a.createElement(v.a,{variant:"h6",color:"inherit",className:o},"INVIMARC")),s.a.createElement("div",{className:i},s.a.createElement(h.a,{color:"inherit",size:"large",onClick:function(){Object(y.navigate)("/")}},"首页"),s.a.createElement(h.a,{color:"inherit",size:"large",onClick:function(){window.open("http://invimarc.com","_blank")}},"关于我们"))))};E.propTypes={classes:i.a.shape({appBar:i.a.shape({}).isRequired,menu:i.a.shape({}).isRequired,left:i.a.shape({}).isRequired,right:i.a.shape({}).isRequired,logo:i.a.shape({}).isRequired}).isRequired},E.defaultProps={};var w=Object(x.a)({root:{margin:"0 auto",padding:"0px 48px 48px",paddingTop:24},appBar:{position:"fixed",top:0,backgroundColor:"#20232a"},menu:{display:"flex",justifyContent:"space-between",height:56},left:{marginRight:"auto"},right:{marginLeft:"auto"}})(E),k=function(e){var t=e.children,a=n.data,r=Object(l.d)(g,Object(l.a)(d.a));return s.a.createElement(c.a,{store:r},s.a.createElement(w,{siteTitle:a.site.siteMetadata.title}),s.a.createElement("div",{style:{margin:"0 auto"}},s.a.createElement("main",null,t),s.a.createElement("footer",null,"© ",(new Date).getFullYear(),", Built with"," ",s.a.createElement("a",{href:"https://www.gatsbyjs.org"},"Gatsby"))))};k.propTypes={children:i.a.node.isRequired};t.a=k},224:function(e,t,a){"use strict";var n=a(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=i.default.memo(i.default.forwardRef(function(t,a){return i.default.createElement(o.default,(0,r.default)({ref:a},t),e)}));0;return a.muiName=o.default.muiName,a};var r=n(a(1)),i=n(a(0)),o=n(a(225))},225:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(10),o=a.n(i),s=a(0),c=a.n(s),l=(a(5),a(60)),d=a(201),u=a(207),p=c.a.forwardRef(function(e,t){var a=e.children,n=e.classes,i=e.className,s=e.color,d=void 0===s?"inherit":s,p=e.component,m=void 0===p?"svg":p,g=e.fontSize,f=void 0===g?"default":g,h=e.htmlColor,b=e.titleAccess,v=e.viewBox,y=void 0===v?"0 0 24 24":v,x=o()(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return c.a.createElement(m,r()({className:Object(l.a)(n.root,i,"inherit"!==d&&n["color".concat(Object(u.a)(d))],"default"!==f&&n["fontSize".concat(Object(u.a)(f))]),focusable:"false",viewBox:y,color:h,"aria-hidden":b?"false":"true",role:b?"img":"presentation",ref:t},x),a,b?c.a.createElement("title",null,b):null)});p.muiName="SvgIcon";var m=Object(d.a)(function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},{name:"MuiSvgIcon"})(p);a.d(t,"default",function(){return m})},281:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(10),o=a.n(i),s=a(61),c=a.n(s),l=a(0),d=a.n(l),u=(a(5),a(60)),p=a(201),m=a(207),g=d.a.forwardRef(function(e,t){var a=e.classes,n=e.className,i=e.component,s=void 0===i?"div":i,c=e.fixed,l=void 0!==c&&c,p=e.maxWidth,g=void 0===p?"lg":p,f=o()(e,["classes","className","component","fixed","maxWidth"]);return d.a.createElement(s,r()({className:Object(u.a)(a.root,n,l&&a.fixed,!1!==g&&a["maxWidth".concat(Object(m.a)(String(g)))]),ref:t},f))});t.a=Object(p.a)(function(e){var t;return{root:(t={width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},c()(t,e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),c()(t,e.breakpoints.up("md"),{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}),t),fixed:Object.keys(e.breakpoints.values).reduce(function(t,a){var n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:n}),t},{}),maxWidthXs:c()({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:c()({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:c()({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:c()({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:c()({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}},{name:"MuiContainer"})(g)},282:function(e,t,a){"use strict";var n=a(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(224)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.default.createElement("path",{d:"M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h4.05l1.83-2h4.24l1.83 2H20v12zM12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 8c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"})),"CameraAltOutlined");t.default=i}}]);
//# sourceMappingURL=component---src-pages-capture-jsx-9256dd8c6682c2070f72.js.map